<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="styles.css">
    <script src="https://kit.fontawesome.com/eaaa5bf7be.js" crossorigin="anonymous"></script>
    <title>RPH/LSPDFR Troubleshooting</title>
</head>
<body>
    <header>
        <i class="fa-solid fa-wrench"></i> Résolution des problèmes pour <span style="color: #fcaf17;">Rage Plugin Hook</span> & <span style="color: #226df5;">LSPDFR</span>
    </header>
    <button id="navBtn" onclick="toggleNav()"><i class="fa-solid fa-bars"></i></button>
    <nav>
        <div style="height: 5px;"></div>
        <span class="navCat">Rage Plugin Hook</span>
        <a href="#unsupportedVersion">Version du jeu incompatible</a>
        <a href="#consoleKeySaving">Changer le raccourci clavier de la console RPH</a>
        <a href="#pluginBlocked">Plugin arrêté car il <i>freeze</i> le jeu</a>
        <span class="navCat">LSPDFR</span>
        <em>Rien pour le moment</em>
    </nav>

    <div class="note">
        <p>
            <i class="fa-solid fa-triangle-exclamation"></i> Avant de modder le jeu ou d'ajouter des plugins, il est recommandé de faire une sauvegarde (copie) de la racine.
        </p>
    </div>

    <div class="note">
        <p>
            <i class="fa-solid fa-triangle-exclamation"></i> Le tutoriel de BUG-MAN-FR "<a href="https://youtu.be/V9IkLXpS9qA" target="_blank">Comment installer LSPDFR 0.4.9 avec des Plugins</a>" n'est plus entièrement à jour.<br>
            Il faut ignorer la partie "Mettre à jour <abbr title="Rage Plugin Hook">RPH</abbr>".
        </p>
    </div>
    <section>
        <h1>Rage Plugin Hook</h1>
        <div>
            <details>
                <summary><h2 class="typeErreur">Version du jeu incompatible</h2></summary>
                <div class="contDefErreur"  id="unsupportedVersion">
                    <h3 class="hErreur"><i class="fa-solid fa-triangle-exclamation"></i> Erreur</h3> <a class="gotoResol" href="#unsupportedVersionResolution">[Voir la résolution]</a>
                    <p>Rage Plugin Hook n'est pas compatible avec la version de GTA 5 installé.</p>
                    <div class="imgWithCredit">
                        <img src="pictures/RPH_GameVersionMSG.png" alt="Grand Theft Auto V vX.X.XXX.X Retail NOT SUPPORTED" tabindex="0">
                        <span>(Image de <i>yysox#3126</i>)</span>
                    </div>
                    <br>
                    <div class="imgWithCredit">
                        <img src="pictures/RPH_GameVersionERROR.png" alt="The current game version is not supported" tabindex="0">
                        <span>(Image de <i>P7E_Shadow3254#1363</i>)</span>
                </div>
                </div>
                <div class="contResolution" id="unsupportedVersionResolution">
                    <h3 class="hResolu"><i class="fa-solid fa-wrench"></i> Résolution</h3>
                    <p>Attendre une mise à jour de <abbr title="Rage Plugin Hook">RPH</abbr> sur le <a href="https://ragepluginhook.net/Downloads.aspx?Category=1" target="_blank">site</a>.</p>
                    <details>
                        <summary>Si utilisé pour jouer à LSPDFR : réinstallez LSPDFR (manual install) en remplaçant les fichiers</summary>
                        <p>
                            Allez sur <a href="https://www.lcpdfr.com/downloads/gta5mods/g17media/7792-lspd-first-response/" target="_blank">lcpdfr.com</a>.<br>
                            Cliquez sur "Download this file" puis "Agree & Download".<br>
                            Cliquez sur le bouton "Download" correspondant à la version <i>Manual_Install</i>.<br>
                            Une fois le fichier téléchargé, extrayez son contenu dans la racine du jeu.
                            <details><summary>Comment installer LSPDFR Manual Install ?</summary>
                                <p>
                                    Ouvrez l'archive .zip d'un côté, puis ouvrez la racine du jeu de l'autre (dans l'explorateur), puis sélectionner tous les fichiers (<kbd>Ctrl</kbd>+<kbd>A</kbd>) de l'archive et cliquez-glissez dans la racine.
                                    Remplacez les fichiers déjà existants si demandé.
                                </p>
                            </details>
                        </p>
                    </details>
                </div>
            </details>

            <details>
                <summary><h2 class="typeErreur">Changer le raccourci clavier de la console <abbr title="Rage Plugin Hook">RPH</abbr></h2></summary>
                <div class="contDefErreur"  id="consoleKeySaving">
                    <h3 class="hErreur"><i class="fa-solid fa-triangle-exclamation"></i> Erreur</h3> <a class="gotoResol" href="#consoleKeySavingResolution">[Voir la résolution]</a>
                    <p>Le changement du raccourci clavier de la console n'est pas enregistré/appliqué.</p>
                </div>
                <div class="contResolution" id="consoleKeySavingResolution">
                    <h3 class="hResolu"><i class="fa-solid fa-wrench"></i> Résolution</h3>
                    <p>Lancer GTA 5 (via <abbr title="Rage Plugin Hook">RPH</abbr>), puis une fois en jeu, ouvrir la console (<kbd>F4</kbd> par défaut) et écrire <code style="background-color: #002871a8; color: lightcyan">ConsoleKey F5</code> (en remplaçant 'F5' par la touche désirée).</p>
                </div>
            </details>

            <details>
                <summary><h2 class="typeErreur">Plugin arrêté car il <i>freeze</i> le jeu</h2></summary>
                <div class="contDefErreur"  id="pluginBlocked">
                    <h3 class="hErreur"><i class="fa-solid fa-triangle-exclamation"></i> Erreur</h3> <a class="gotoResol" href="#pluginBlockedResolution">[Voir la résolution]</a>
                    <p><abbr title="Rage Plugin Hook">RPH</abbr> arrête un plugin au chargement du jeu parce qu'il bloque ce dernier.</p>
                    <img src="pictures/RPH_blockedPlugin.png" alt="WARNING! Plugin '...' was terminated because it caused the game to freeze." tabindex="0">
                </div>
                <div class="contResolution" id="pluginBlockedResolution">
                    <h3 class="hResolu"><i class="fa-solid fa-wrench"></i> Résolution</h3>
                    <ul>
                        <li>
                            Option 1
                            <p>
                                Allez dans les paramètres de <abbr title="Rage Plugin Hook">RPH</abbr> dans l'onglet "General".<br>
                                Changez la valeur de "Plugin timeout threshold" à <code>60000</code> (60 secondes).
                            </p>
                        </li>
                        <li>
                            Option 2
                            <p>
                                Allez dans les paramètres de <abbr title="Rage Plugin Hook">RPH</abbr> dans l'onglet "Plugins".<br>
                                Sélectionnez "Don't load any plugins on startup".
                            </p>
                        </li>
                    </ul>
                </div>
            </details>
            
        </div>
    </section>
    
    <section hidden>
        <h1>LSPDFR</h1>
    </section>

    <template>
        <button class="fullscreenBtn" onclick="toggleFullscreen(this)" title="Basculer le plein écran"><i class="fa-solid fa-expand"></i></button>
    </template>
    

    <footer>
        Créer par SSStuart#0046 pour le #need-help. Mis à jour le 12 mars 2022
    </footer>
    <script>
        if (document.location.href.includes('#') && document.location.href.includes('?')) {
            var fullscreen = true
            let ErrorString = document.location.href.split('#')[1].split('?')[0];
            let paramString = document.location.href.split('?')[1];
            let queryString = new URLSearchParams(paramString);
            
            for (let pair of queryString.entries()) {
                if (pair[0]=="fullscreen") {
                    document.getElementById(ErrorString).parentElement.classList.add("fullscreen");
                    document.getElementById(ErrorString).parentElement.open = true;
                }
            }
        }

        var btnFSTemp = document.querySelector('template');
        var erreurs = document.getElementsByClassName('contDefErreur');
        for (erreur=0; erreur<erreurs.length; erreur++) {
            erreurs[erreur].appendChild(btnFSTemp.content.cloneNode(true));
            
        }

        var menu = document.querySelector('nav');
        var btnMenu = document.querySelector('#navBtn');
        function toggleNav() {
            if (menu.classList.contains("open")) {
                menu.classList.remove("open");
            } else {
                menu.classList.add("open");
            }
        }

        function toggleFullscreen(element) {
            idErreur = element.parentElement.id;
            if (!fullscreen){
                location.href += "#"+idErreur+"?fullscreen";
                location.reload();
            } else {
                location.href = location.href.split("#")[0];
                document.getElementById(idErreur).parentElement.classList.remove("fullscreen");
            }
        }
    </script>
</body>
</html>
